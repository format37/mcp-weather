rtlm.info {
    tls /server/fullchain.pem /server/privkey.pem

    # WEATHER → /weather/* (strip prefix)
    handle_path /weather* {
        reverse_proxy mcp-weather:8001
    }

    # NEGATIVE-IMAGE → /negative-image/* (strip prefix)
    handle_path /negative-image* {
        reverse_proxy mcp-negative-image:8002
    }

    # Root response (optional)
    handle_path / {
        respond "RTLM MCP Gateway up. Try /weather/ or /negative-image/" 200
    }

    # Basic hardening headers
    header {
        Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
        X-Content-Type-Options "nosniff"
        X-Frame-Options "DENY"
        Referrer-Policy "no-referrer"
    }
}
